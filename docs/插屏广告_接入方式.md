# 1 插屏广告接入流程

> [参考Demo](https://github.com/one-piece-official/AdGainSdkDemo)


### 1.1 插屏广告加载
```java
		InterstitialAdListener listener = new InterstitialAdListener() {
            @Override
            public void onInterstitialAdLoadError(AdError error) {
                
            }

            @Override
            public void onInterstitialAdLoadSuccess() {

            }

            @Override
            public void onInterstitialAdLoadCached() {

            }

            @Override
            public void onInterstitialAdShow() {

            }

            @Override
            public void onInterstitialAdPlayEnd() {

            }

            @Override
            public void onInterstitialAdClick() {

            }

            @Override
            public void onInterstitialAdClosed() {

            }

            @Override
            public void onInterstitialAdShowError(AdError error) {

            }
        };
        
        Map<String, Object> options = new HashMap<>();
        options.put("inter_extra_test_key", "inter_extra_test_value");
        
        AdRequest adRequest = new AdRequest.Builder()
                .setCodeId(codeId)
                .setExtOption(options)
                .build();

        mInterstitialAd = new InterstitialAd(adRequest, listener);

        mInterstitialAd.loadAd();


```


### 1.2 插屏广告展示
```java

if (interstitialAd != null && interstitialAd.isReady()) {
    interstitialAd.showAd( activity );
}
```

### 1.3 插屏广告销毁
```java

if (interstitialAd != null) {
    interstitialAd.destroyAd();
    interstitialAd = null;
}
```


## 2 插屏API介绍

###  2.1 InterstitialAd
> com.adgain.sdk.api.InterstitialAd

| 方法名 | 方法介绍 |
| --- | --- |
| InterstitialAd(AdRequest adRequest, InterstitialAdListener adListener) | 构造方法。参数说明：request（广告请求对象）、adListener（广告状态回调监听）。             |
| loadAd() | 拉取广告。  |
| isReady() | 广告是否准备好，未准备好广告将无法展示。                     |
| showAd(Activity activity) | 展示广告。参数说明：activity（展示广告的 activity）。 |
| destroyAd() | 销毁广告。 |

###  2.2 AdRequest
> com.adgain.sdk.api.AdRequest.Builder

| 方法名 | 方法介绍 |
| --- | --- |
| setCodeId(String codeid) | 设置广告位ID。 |
| setOrientation(int orientation) | 设置广告横屏竖屏展示， //0 竖屏  1、横屏  2 随屏幕方向改变 。若触发广告Activity是竖屏，广告希望横屏展示，则触发Activity要配置 ``` android:configChanges="keyboard|keyboardHidden|orientation|screenSize" ```|
| setBidFloor(int bidFloor) | 设置广告请求的底价，单位分。 |
| setExtOption(Map<String,Object> option) | 设置扩展参数。参数说明：options（扩展参数，可传任意）。 |

###  2.3 InterstitialAdListener
> com.adgain.sdk.api.InterstitialAdListener

| 方法名 | 方法介绍 |
| --- | --- |
| onInterstitialAdLoadSuccess() | 广告server接口请求成功。）。                   |
| onInterstitialAdLoadCached() | 广告资源缓存下载成功可以展示。）。                   |
| onInterstitialAdLoadError(AdError error)| 广告加载失败。参数说明：error（报错信息，具体可看其内部code和message） |
| onInterstitialAdShow () | 广告展示 |
| onInterstitialAdShowError(AdError error) | 广告播放出错。参数说明：error（报错信息，具体可看其内部code和message） |
| onInterstitialAdPLayEnd() | 广告播放结束 |
| onInterstitialAdClick() | 广告被点击|
| onInterstitialAdClosed() | 广告关闭 |

