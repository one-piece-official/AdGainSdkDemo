# 1 插屏广告接入流程

> [参考Demo](https://github.com/one-piece-official/GtAndroidSdkDemo)


### 1.1 插屏广告加载
```java
		Map<String, Object> options = new HashMap<>();

        options.put("inter_extra_test_key", "inter_extra_test_value");

        AdRequest adRequest = new AdRequest.Builder()
                .setAdUnitID("")       // 从商务获取
                .setExtOption(options) // 自定义参数，可选
                .build();

        InterstitialAd  interstitialAd = new InterstitialAd(adRequest, new  InterstitialAdListener() {
            @Override
            public void onInterstitialAdLoadError(String adUnitID, AdError error) {
                
            }

            @Override
            public void onInterstitialAdLoadSuccess(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdLoadCached(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdShow(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdPlayStart(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdPLayEnd(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdClick(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdClosed(String adUnitID, GTAdInfo adInfo) {

            }

            @Override
            public void onInterstitialAdShowError(String adUnitID, AdError error) {

            }
        });


        interstitialAd.loadAd();


```


### 1.2 插屏广告展示
```java

if (interstitialAd != null && interstitialAd.isReady()) {
    interstitialAd.showAd( activity );
}
```

### 1.3 插屏广告销毁
```java

if (interstitialAd != null) {
    interstitialAd.destroyAd();
    interstitialAd = null;
}
```


## 2 插屏API介绍

###  2.1 InterstitialAd
> com.gt.sdk.api.InterstitialAd

| 方法名 | 方法介绍 |
| --- | --- |
| InterstitialAd(AdRequest adRequest, InterstitialAdListener adListener) | 构造方法。参数说明：request（广告请求对象）、adListener（广告状态回调监听）。             |
| loadAd() | 拉取广告。  |
| isReady() | 广告是否准备好，未准备好广告将无法展示。                     |
| showAd(Activity activity) | 展示广告。参数说明：activity（展示广告的 activity）。 |
| destroyAd() | 销毁广告。 |

###  2.2 AdRequest
> com.gt.sdk.api.AdRequest.Builder

| 方法名 | 方法介绍 |
| --- | --- |
| setAdUnitID(String adUnitID) | 设置广告位ID。参数说明：adUnitID（广告位Id）。 |
| setBidFloor(int bidFloor) | 设置广告请求的底价，单位分。 |
| setExtOption(Map<String,Object> option) | 设置扩展参数。参数说明：options（扩展参数，可传任意）。 |

###  2.3 InterstitialAdListener
> com.gt.sdk.api.InterstitialAdListener

| 方法名 | 方法介绍 |
| --- | --- |
| onInterstitialAdLoadSuccess( String adUnitID,GTAdInfo adInfo) | 广告server接口请求成功。参数说明：adUnitID（广告位Id）。                   |
| onInterstitialAdLoadCached( String adUnitID,GTAdInfo adInfo) | 广告资源缓存下载成功可以展示。参数说明：adUnitID（广告位Id）。                   |
| onInterstitialAdLoadError(String adUnitID, AdError error)| 广告加载失败。参数说明：error（报错信息，具体可看其内部code和message）、adUnitID（报错的广告位Id）。 |
| onInterstitialAdShow (String adUnitID,GTAdInfo adInfo) | 广告展示 |
| onInterstitialAdShowError(String adUnitID,AdError error) | 广告播放出错。参数说明：error（报错信息，具体可看其内部code和message）、adUnitID（报错的广告位Id）。 |
| onInterstitialAdPLayStart(String adUnitID,GTAdInfo adInfo) | 广告播放开始。参数说明：adUnitID（广告位Id）。 |
| onInterstitialAdPLayEnd(String adUnitID,GTAdInfo adInfo) | 广告播放结束。参数说明：adUnitID（广告位Id）。 |
| onInterstitialAdClick(String adUnitID,GTAdInfo adInfo) | 广告被点击。参数说明：adUnitID（广告位Id）。 |
| onInterstitialAdClosed(String adUnitID,GTAdInfo adInfo) | 广告关闭。参数说明：adUnitID（广告位Id）。 |

