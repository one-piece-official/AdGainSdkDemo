# 1 插屏广告接入流程

> [参考Demo](https://github.com/one-piece-official/AdGainSdkDemo)


### 1.1 激励视频广告加载
```java
		Map<String, Object> options = new HashMap<>();

        AdRequest adRequest = new AdRequest.Builder()
                .setCodeId(codeID)
                .setExtOption(options)
                .build();

        mRewardAd = new RewardAd(adRequest, new RewardAdListener() {
            @Override
            public void onRewardAdLoadSuccess() {
                
            }

            @Override
            public void onRewardAdLoadCached() {

            }

            @Override
            public void onRewardAdShow() {

            }

            @Override
            public void onRewardAdPlayStart() {

            }

            @Override
            public void onRewardAdPlayEnd() {

            }

            @Override
            public void onRewardAdClick() {

            }

            @Override
            public void onRewardAdClosed() {

            }

            @Override
            public void onRewardAdLoadError(AdError error) {

            }

            @Override
            public void onRewardAdShowError(AdError error) {

            }

            @Override
            public void onRewardVerify() {

            }

            @Override
            public void onAdSkip() {

            }
        });

        mRewardAd.loadAd();


```


### 1.2 激励视频广告展示
```java

if (rewardAd != null && rewardAd.isReady()) {
    rewardAd.showAd( activity );
}
```

### 1.3 激励视频广告销毁
```java

if (rewardAd != null) {
    rewardAd.destroyAd();
    rewardAd = null;
}
```


## 2 激励视频API介绍

###  2.1 RewardAd
> com.adgain.sdk.api.RewardAd

| 方法名 | 方法介绍 |
| --- | --- |
| RewardAd(AdRequest adRequest, RewardAdListener adListener) | 构造方法。参数说明：request（广告请求对象）、adListener（广告状态回调监听）。             |
| loadAd() | 拉取广告。  |
| isReady() | 广告是否准备好，未准备好广告将无法展示。                    |
| showAd(Activity activity) | 展示广告。参数说明：activity（展示广告的 activity）。 |
| destroyAd() | 销毁广告。 |

###  2.2 AdRequest
> com.adgain.sdk.api.AdRequest.Builder

| 方法名 | 方法介绍 |
| --- | --- |
| setCodeId(String codeid) | 设置广告位ID。 |
| setPortrait(boolean portrait) | 设置广告横屏竖屏展示， //0 竖屏  1、横屏  2 随屏幕方向改变 。若触发广告Activity是竖屏，广告希望横屏展示，则触发Activity要配置 ``` android:configChanges="keyboard|keyboardHidden|orientation|screenSize" ```|
| setBidFloor(int bidFloor) | 设置广告请求的底价，单位分。 |
| setExtOption(Map<String,Object> option) | 设置扩展参数。参数说明：options（扩展参数，可传任意）。 |

###  2.3 RewardAdListener
> com.adgain.sdk.api.RewardAdListener

| 方法名 | 方法介绍 |
| --- | --- |
| onRewardAdLoadSuccess() | 广告server接口请求成功。                   |
| onRewardAdLoadCached() | 广告资源缓存下载成功可以展示。）。                   |
| onRewardAdLoadError(AdError error)| 广告加载失败。参数说明：error（报错信息，具体可看其内部code和message））。 |
| onRewardAdShow () | 广告展示 |
| onRewardAdShowError(AdError error) | 广告播放出错。参数说明：error（报错信息，具体可看其内部code和message） |
| onRewardAdPlayStart()| 广告播放开始。 |
| onRewardAdPLayEnd()| 广告播放结束。 |
| onReward()| 成功获得奖励。 |
| onRewardAdClick() | 广告被点击。 |
| onRewardAdClosed() | 广告关闭。 |

